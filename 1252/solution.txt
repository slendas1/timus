Допустим, что возможно отсорировать при k
Тогда для любого камня верно, что new_pos - pos = (k + 1) * steps
Посчитаем нод разностей позиций камней при упорядочиваниях: asc и desc.
Возьмем max, вычтем 1. 
Отдельный случай, когда массив отсортирован (ответ: n - 1)